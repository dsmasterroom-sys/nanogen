import sys
import os

sys.path.append('.')
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'nanogen_django.settings')
import django
django.setup()

from nanogen.services import extract_image_focused_prompt

prompt = """Style: Clean UGC look with spontaneous energy. Kodak Portra 400 emulation, cool cinematic grading (5500K–6500K), low-to-medium contrast. Desaturated urban tones (greys, soft blues) with the black sling bag retaining cinematic depth. Scene: A red brick cafe alley in Seongsu-dong, Seoul. Overcast natural daylight creating soft, diffused illumination without harsh shadows. Cinematography: 35mm equivalent, f/2.0, 1/120s. Medium close-up with subtle handheld camera shake. Focus is sharp on the model's skin texture and the fabric details of the black sling bag. Actions: The Korean AI influencer takes two casual steps toward the camera, pauses, naturally adjusts the strap of her textured black sling bag, and offers a slight, friendly smile. Dialogue: The model says natively in Korean: '오늘 코디 어때요?' Background sound: Distant cafe chatter, soft footsteps on pavement.  Style: Cinematic moody street photography. Genuine and human atmosphere. Cool neutral tones with controlled contrast. The black sling bag's texture is a key visual anchor against the vintage industrial backdrop. Scene: A vintage industrial alley in Euljiro, Seoul, illuminated by soft overcast light and faint neon signs. The environment is desaturated (cement green, wet stone), highlighting the subject. Cinematography: Wide establishing shot transitioning to a slow dolly-in. 35mm equivalent, f/2.0. Shallow depth of field to isolate the subject from the busy background. Actions: The model stands confidently observing the surroundings, then turns her profile to the camera, allowing the light to catch the matte texture and zippers of the black sling bag. Dialogue: None. Background sound: Faint electric hum from neon signs, distant traffic hiss.  Style: Dynamic high-end fashion reel with a professional UGC edge. Cool temperature leaning bluish. Soft, three-dimensional look with no glare. Scene: A bustling street corner in Hongdae, Seoul. Urban grey tones dominate the background. Soft natural daylight wraps the scene. Cinematography: Eye-level tracking shot moving left to right. Deep focus to show both the model and the vibrant (yet desaturated) environment. 35mm lens. Actions: The model takes three quick, rhythmic steps, stops abruptly, and poses with hands in pockets, shifting her weight to let the black sling bag take center stage on her hip. Dialogue: None. Background sound: Crisp city breeze, rhythmic street ambiance.  Style: Cinematic narrative capturing an authentic lifestyle moment. Soft, diffused light with a cool white balance. Natural and realistic appearance with light film texture. Scene: Dongdaemun Design Plaza (DDP) in Seoul, featuring curved metallic architecture and dry stone tones. Overcast sky providing soft, wrap-around lighting. Cinematography: Over-the-shoulder shot transitioning smoothly to a medium close-up. 35mm equivalent, f/2.0, natural soft bokeh. Actions: The model is initially looking down, checking her phone. She then looks up directly into the lens, making eye contact, while the black sling bag rests naturally against her side. Dialogue: The model says natively in Korean: '서울 구경, 준비됐어?' Background sound: Soft ambient wind, subtle footsteps on concrete."""

print('---ORIGINAL---')
print(prompt)
print('\n---EXTRACTED---')
print(extract_image_focused_prompt(prompt))
